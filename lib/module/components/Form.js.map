{"version":3,"names":["React","Children","useState","KeyboardAvoidingView","Platform","Pressable","Text","StyleSheet","containsError","colors","submitForm","Form","props","width","setWidth","opacity","setOpacity","handleButtonPress","fieldsWithError","forEach","children","child","index","ref","current","getComponent","keyboardType","isRequired","value","customValidation","validation","status","push","label","placeholder","setState","length","console","error","JSON","stringify","onButtonPress","createElement","keyboardVerticalOffset","OS","undefined","behavior","style","styles","button","buttonStyle","onPress","android_ripple","color","radius","onLayout","event","nativeEvent","layout","onPressIn","onPressOut","buttonText","buttonTextStyle","defaultProps","create","height","justifyContent","alignItems","backgroundColor","red","borderRadius","marginVertical","fontSize","fontWeight"],"sources":["Form.js"],"sourcesContent":["import React, { Children, useState } from 'react';\nimport { KeyboardAvoidingView, Platform, Pressable, Text, StyleSheet, } from 'react-native';\nimport { containsError } from './FormItem';\nimport { colors } from '../colors';\nexport let submitForm;\nexport default function Form(props) {\n    const [width, setWidth] = useState(0);\n    const [opacity, setOpacity] = useState(1);\n    const handleButtonPress = () => {\n        const fieldsWithError = [];\n        Children.forEach(props.children, (child, index) => {\n            //@ts-ignore\n            if (child && child.ref?.current?.getComponent() == 'FormItem') {\n                const { keyboardType, isRequired, value, customValidation,\n                //@ts-ignore\n                 } = child.props;\n                let validation;\n                if (customValidation)\n                    validation = customValidation();\n                if (containsError(keyboardType, isRequired, value, validation).status) {\n                    fieldsWithError.push(\n                    //@ts-ignore\n                    child.props.label || child.props.placeholder || 'FormItem' + index);\n                    //@ts-ignore\n                    child.ref?.current.setState();\n                }\n            }\n        });\n        if (fieldsWithError.length) {\n            console.error('The following fields do not fulfil their conditions:\\n' +\n                JSON.stringify(fieldsWithError, null, 2));\n            return;\n        }\n        props.onButtonPress();\n    };\n    submitForm = () => handleButtonPress();\n    return (React.createElement(KeyboardAvoidingView, { keyboardVerticalOffset: Platform.OS == 'ios' ? props.keyboardVerticalOffset || 50 : undefined, behavior: Platform.OS == 'ios' ? 'padding' : undefined, style: props.style },\n        props.children,\n        React.createElement(Pressable, { style: [\n                styles.button,\n                Platform.OS == 'ios' ? { opacity } : undefined,\n                props.buttonStyle,\n            ], onPress: handleButtonPress, android_ripple: { color: 'lightgrey', radius: width }, onLayout: (event) => setWidth(event.nativeEvent.layout.width), onPressIn: () => setOpacity(0.5), onPressOut: () => setOpacity(1) },\n            React.createElement(Text, { style: [styles.buttonText, props.buttonTextStyle] }, props.buttonText || 'Submit'))));\n}\nForm.defaultProps = {\n    style: {},\n};\nconst styles = StyleSheet.create({\n    button: {\n        height: 48,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: colors.red,\n        borderRadius: 8,\n        marginVertical: 32,\n    },\n    buttonText: {\n        color: 'white',\n        fontSize: 16,\n        fontWeight: 'bold',\n    },\n});\n"],"mappings":"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"}