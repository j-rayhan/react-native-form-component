{"version":3,"names":["refs","PinInput","props","pin","setPin","React","useState","Array","numOfInput","fill","activeInput","setActiveInput","length","i","push","createRef","changeFocus","index","text","current","focus","styles","wrapper","style","map","_","formItem","onChangeText","toString","replace","input","borderBottomColor","colors","black","lightgrey","textInputStyle","status","message","StyleSheet","create","flexDirection","justifyContent","maxWidth","borderBottomWidth","textAlign","fontSize","backgroundColor","paddingLeft","paddingRight","minWidth"],"sources":["PinInput.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  View,\n  StyleSheet,\n  TextInput,\n  TextStyle,\n  ViewStyle,\n  StyleProp,\n  TextInputProps,\n} from 'react-native';\n\nimport { colors } from '../colors';\nimport FormItem from './FormItem';\n\n// Define the prop types for the PinInput component\ninterface Props extends TextInputProps {\n  numOfInput: number;\n  onChangeText: (pin: string) => void;\n  textInputStyle?: TextStyle;\n  style?: StyleProp<ViewStyle>;\n}\n\n// Create an array of refs to store the TextInput refs\nconst refs: React.RefObject<TextInput>[] = [];\n\nexport default function PinInput(props: Props) {\n  // Set up state for the pin input and active input index\n  const [pin, setPin] = React.useState(Array(props.numOfInput).fill(''));\n  const [activeInput, setActiveInput] = React.useState(0);\n\n  // Initialize the refs array if it is empty\n  if (!refs.length) {\n    for (let i = 0; i < pin.length; i++) {\n      refs.push(React.createRef());\n    }\n  }\n\n  // Function to change focus between input fields\n  const changeFocus = (index: number, text: string) => {\n    if (text) refs[index + 1]?.current?.focus();\n    else refs[index - 1]?.current?.focus();\n  };\n\n  return (\n    <View style={[styles.wrapper, props.style]}>\n      {/* Render the PinInput fields */}\n      {pin.map((_, index) => (\n        <FormItem\n          {...props}\n          value={pin[index]}\n          style={styles.formItem}\n          onChangeText={(text) => {\n            // Update the pin array with the new input value\n            pin[index] = text;\n            setPin([...pin]);\n            // Change focus based on the input value\n            changeFocus(index, text);\n            // Call the onChangeText callback with the concatenated pin value\n            props.onChangeText(pin.toString().replace(/,/g, ''));\n          }}\n          textInputStyle={[\n            styles.input,\n            {\n              // Set the borderBottomColor based on the active input index\n              borderBottomColor:\n                activeInput === index ? colors.black : colors.lightgrey,\n            },\n            props.textInputStyle,\n          ]}\n          maxLength={1}\n          key={index}\n          ref={refs[index]}\n          onFocus={() => setActiveInput(index)}\n          customValidation={() => ({ status: true, message: '' })}\n        />\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  input: {\n    maxWidth: 40,\n    borderBottomWidth: 1.5,\n    textAlign: 'center',\n    fontSize: 20,\n  },\n  formItem: {\n    backgroundColor: 'transparent',\n    paddingLeft: 0,\n    paddingRight: 0,\n    minWidth: 40,\n  },\n});\n"],"mappings":"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"}