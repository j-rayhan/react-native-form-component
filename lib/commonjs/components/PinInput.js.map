{"version":3,"names":["refs","PinInput","props","pin","setPin","useState","Array","numOfInput","fill","activeInput","setActiveInput","length","i","push","createRef","changeFocus","index","text","current","focus","styles","wrapper","map","_","formItem","onChangeText","toString","replace","input","borderBottomColor","colors","black","lightgrey","textInputStyle","StyleSheet","create","flexDirection","justifyContent","maxWidth","borderBottomWidth","textAlign","fontSize","backgroundColor","paddingLeft","paddingRight","minWidth"],"sources":["PinInput.tsx"],"sourcesContent":["import React, { useState, createRef, RefObject } from 'react';\nimport { View, StyleSheet, TextInput, TextStyle } from 'react-native';\n\nimport { colors } from '../colors';\nimport FormItem from './FormItem';\n\ninterface Props {\n  numOfInput: number;\n  onChangeText: (pin: string) => void;\n  textInputStyle?: TextStyle;\n}\n\nconst refs: RefObject<TextInput>[] = [];\nexport default function PinInput(props: Props) {\n  const [pin, setPin] = useState(Array(props.numOfInput).fill(''));\n  const [activeInput, setActiveInput] = useState(0);\n  if (!refs.length) {\n    for (let i = 0; i < pin.length; i++) {\n      refs.push(createRef());\n    }\n  }\n\n  const changeFocus = (index: number, text: string) => {\n    if (text) refs[index + 1]?.current?.focus();\n    else refs[index - 1]?.current?.focus();\n  };\n\n  return (\n    <View style={styles.wrapper}>\n      {pin.map((_, index) => (\n        <FormItem\n          value={pin[index]}\n          style={styles.formItem}\n          onChangeText={(text) => {\n            pin[index] = text;\n            setPin([...pin]);\n            changeFocus(index, text);\n            props.onChangeText(pin.toString().replace(/,/g, ''));\n          }}\n          textInputStyle={[\n            styles.input,\n            {\n              borderBottomColor:\n                activeInput === index ? colors.black : colors.lightgrey,\n            },\n            props.textInputStyle,\n          ]}\n          maxLength={1}\n          key={index}\n          ref={refs[index]}\n          onFocus={() => setActiveInput(index)}\n        />\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  input: {\n    maxWidth: 40,\n    borderBottomWidth: 1.5,\n    textAlign: 'center',\n    fontSize: 20,\n  },\n  formItem: {\n    backgroundColor: 'transparent',\n    paddingLeft: 0,\n    paddingRight: 0,\n    minWidth: 40,\n  },\n});\n"],"mappings":";;;;;;AAAA;AACA;AAEA;AACA;AAAkC;AAAA;AAAA;AAQlC,MAAMA,IAA4B,GAAG,EAAE;AACxB,SAASC,QAAQ,CAACC,KAAY,EAAE;EAC7C,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAG,IAAAC,eAAQ,EAACC,KAAK,CAACJ,KAAK,CAACK,UAAU,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;EAChE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAL,eAAQ,EAAC,CAAC,CAAC;EACjD,IAAI,CAACL,IAAI,CAACW,MAAM,EAAE;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,GAAG,CAACQ,MAAM,EAAEC,CAAC,EAAE,EAAE;MACnCZ,IAAI,CAACa,IAAI,eAAC,IAAAC,gBAAS,GAAE,CAAC;IACxB;EACF;EAEA,MAAMC,WAAW,GAAG,CAACC,KAAa,EAAEC,IAAY,KAAK;IAAA;IACnD,IAAIA,IAAI,EAAE,SAAAjB,IAAI,CAACgB,KAAK,GAAG,CAAC,CAAC,2DAAf,MAAiBE,OAAO,kDAAxB,cAA0BC,KAAK,EAAE,CAAC,KACvC,UAAAnB,IAAI,CAACgB,KAAK,GAAG,CAAC,CAAC,6DAAf,OAAiBE,OAAO,mDAAxB,eAA0BC,KAAK,EAAE;EACxC,CAAC;EAED,oBACE,6BAAC,iBAAI;IAAC,KAAK,EAAEC,MAAM,CAACC;EAAQ,GACzBlB,GAAG,CAACmB,GAAG,CAAC,CAACC,CAAC,EAAEP,KAAK,kBAChB,6BAAC,iBAAQ;IACP,KAAK,EAAEb,GAAG,CAACa,KAAK,CAAE;IAClB,KAAK,EAAEI,MAAM,CAACI,QAAS;IACvB,YAAY,EAAGP,IAAI,IAAK;MACtBd,GAAG,CAACa,KAAK,CAAC,GAAGC,IAAI;MACjBb,MAAM,CAAC,CAAC,GAAGD,GAAG,CAAC,CAAC;MAChBY,WAAW,CAACC,KAAK,EAAEC,IAAI,CAAC;MACxBf,KAAK,CAACuB,YAAY,CAACtB,GAAG,CAACuB,QAAQ,EAAE,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACtD,CAAE;IACF,cAAc,EAAE,CACdP,MAAM,CAACQ,KAAK,EACZ;MACEC,iBAAiB,EACfpB,WAAW,KAAKO,KAAK,GAAGc,cAAM,CAACC,KAAK,GAAGD,cAAM,CAACE;IAClD,CAAC,EACD9B,KAAK,CAAC+B,cAAc,CACpB;IACF,SAAS,EAAE,CAAE;IACb,GAAG,EAAEjB,KAAM;IACX,GAAG,EAAEhB,IAAI,CAACgB,KAAK,CAAE;IACjB,OAAO,EAAE,MAAMN,cAAc,CAACM,KAAK;EAAE,EAExC,CAAC,CACG;AAEX;AAEA,MAAMI,MAAM,GAAGc,uBAAU,CAACC,MAAM,CAAC;EAC/Bd,OAAO,EAAE;IACPe,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDT,KAAK,EAAE;IACLU,QAAQ,EAAE,EAAE;IACZC,iBAAiB,EAAE,GAAG;IACtBC,SAAS,EAAE,QAAQ;IACnBC,QAAQ,EAAE;EACZ,CAAC;EACDjB,QAAQ,EAAE;IACRkB,eAAe,EAAE,aAAa;IAC9BC,WAAW,EAAE,CAAC;IACdC,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC"}