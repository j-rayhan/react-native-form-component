{"version":3,"names":["submitForm","Form","props","width","setWidth","useState","opacity","setOpacity","handleButtonPress","fieldsWithError","Children","forEach","children","child","index","ref","current","getComponent","keyboardType","isRequired","value","customValidation","validation","containsError","status","push","label","placeholder","setState","length","console","error","JSON","stringify","onButtonPress","React","createElement","KeyboardAvoidingView","keyboardVerticalOffset","Platform","OS","undefined","behavior","style","Pressable","styles","button","buttonStyle","onPress","android_ripple","color","radius","onLayout","event","nativeEvent","layout","onPressIn","onPressOut","Text","buttonText","buttonTextStyle","defaultProps","StyleSheet","create","height","justifyContent","alignItems","backgroundColor","colors","red","borderRadius","marginVertical","fontSize","fontWeight"],"sources":["Form.js"],"sourcesContent":["import React, { Children, useState } from 'react';\nimport { KeyboardAvoidingView, Platform, Pressable, Text, StyleSheet, } from 'react-native';\nimport { containsError } from './FormItem';\nimport { colors } from '../colors';\nexport let submitForm;\nexport default function Form(props) {\n    const [width, setWidth] = useState(0);\n    const [opacity, setOpacity] = useState(1);\n    const handleButtonPress = () => {\n        const fieldsWithError = [];\n        Children.forEach(props.children, (child, index) => {\n            //@ts-ignore\n            if (child && child.ref?.current?.getComponent() == 'FormItem') {\n                const { keyboardType, isRequired, value, customValidation,\n                //@ts-ignore\n                 } = child.props;\n                let validation;\n                if (customValidation)\n                    validation = customValidation();\n                if (containsError(keyboardType, isRequired, value, validation).status) {\n                    fieldsWithError.push(\n                    //@ts-ignore\n                    child.props.label || child.props.placeholder || 'FormItem' + index);\n                    //@ts-ignore\n                    child.ref?.current.setState();\n                }\n            }\n        });\n        if (fieldsWithError.length) {\n            console.error('The following fields do not fulfil their conditions:\\n' +\n                JSON.stringify(fieldsWithError, null, 2));\n            return;\n        }\n        props.onButtonPress();\n    };\n    submitForm = () => handleButtonPress();\n    return (React.createElement(KeyboardAvoidingView, { keyboardVerticalOffset: Platform.OS == 'ios' ? props.keyboardVerticalOffset || 50 : undefined, behavior: Platform.OS == 'ios' ? 'padding' : undefined, style: props.style },\n        props.children,\n        React.createElement(Pressable, { style: [\n                styles.button,\n                Platform.OS == 'ios' ? { opacity } : undefined,\n                props.buttonStyle,\n            ], onPress: handleButtonPress, android_ripple: { color: 'lightgrey', radius: width }, onLayout: (event) => setWidth(event.nativeEvent.layout.width), onPressIn: () => setOpacity(0.5), onPressOut: () => setOpacity(1) },\n            React.createElement(Text, { style: [styles.buttonText, props.buttonTextStyle] }, props.buttonText || 'Submit'))));\n}\nForm.defaultProps = {\n    style: {},\n};\nconst styles = StyleSheet.create({\n    button: {\n        height: 48,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: colors.red,\n        borderRadius: 8,\n        marginVertical: 32,\n    },\n    buttonText: {\n        color: 'white',\n        fontSize: 16,\n        fontWeight: 'bold',\n    },\n});\n"],"mappings":"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"}